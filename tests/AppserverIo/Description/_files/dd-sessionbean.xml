<?xml version="1.0" encoding="UTF-8"?>
<session xmlns="http://www.appserver.io/appserver">
    <session-type>Stateless</session-type>
    <epb-name>SampleProcessor</epb-name>
    <epb-class>AppserverIo\Apps\Example\Services\SampleProcessor
    </epb-class>
    <post-construct>
        <lifecycle-callback-method>initialize
        </lifecycle-callback-method>
    </post-construct>
    <pre-destroy>
        <lifecycle-callback-method>destroy</lifecycle-callback-method>
    </pre-destroy>
    <epb-ref>
        <epb-ref-name>UserProcessor</epb-ref-name>
        <lookup-name>php:global/example/UserProcessor</lookup-name>
        <injection-target>
            <injection-target-class>AppserverIo\Apps\Example\Services\SampleProcessor
            </injection-target-class>
            <injection-target-property>userProcessor
            </injection-target-property>
        </injection-target>
    </epb-ref>
    <epb-ref>
        <epb-ref-name>MyUserProcessor</epb-ref-name>
        <remote>UserProcessorRemote</remote>
        <epb-link>UserProcessor</epb-link>
        <injection-target>
            <injection-target-class>AppserverIo\Apps\Example\Services\SampleProcessor
            </injection-target-class>
            <injection-target-property>userProcessor
            </injection-target-property>
        </injection-target>
    </epb-ref>
    <res-ref>
        <description>Reference to the application</description>
        <res-ref-name>
            ApplicationInterface
        </res-ref-name>
        <injection-target>
            <injection-target-class>AppserverIo\Apps\Example\Services\AbstractProcessor
            </injection-target-class>
            <injection-target-method>injectApplication
            </injection-target-method>
        </injection-target>
    </res-ref>
    <res-ref>
        <description>Reference to a timer service</description>
        <res-ref-name>TimerServiceContextInterface</res-ref-name>
        <injection-target>
            <injection-target-class>AppserverIo\Apps\Example\Services\SampleProcessor
            </injection-target-class>
            <injection-target-method>injectTimerService
            </injection-target-method>
        </injection-target>
    </res-ref>
    <persistence-unit-ref>
        <persistence-unit-ref-name>ReferenceToMyPersistenceUnit</persistence-unit-ref-name>
        <persistence-unit-name>MyPersistenceUnit</persistence-unit-name>
        <injection-target>
            <injection-target-class>AppserverIo\Apps\Example\Services\SampleProcessor</injection-target-class>
            <injection-target-method>injectPersistenceUnit</injection-target-method>
        </injection-target>
    </persistence-unit-ref>
</session>